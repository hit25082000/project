---
description: Notification service patterns and usage guidelines
globs:
alwaysApply: false
---

# Notification Patterns

The NotificationService provides a centralized way to manage user notifications using Angular Signals.

## Notification Service Rules

**Rule 1: Always inject NotificationService in services, never in components**
**Rule 2: Use success/error methods for user feedback after async operations**
**Rule 3: Keep notifications simple - message only, avoid complex titles**

## Usage Patterns

### In Services (Recommended)

```typescript
@Injectable({ providedIn: 'root' })
export class UserService {
  private notificationService = inject(NotificationService);

  async createUser(user: UserCreate): Promise<User> {
    try {
      const newUser = await this.api.createUser(user);
      this.notificationService.success('User created successfully');
      return newUser;
    } catch (error) {
      this.errorHandler.handleError(error, 'Creating user');
      throw error;
    }
  }

  async deleteUser(id: string): Promise<void> {
    try {
      await this.api.deleteUser(id);
      this.notificationService.success('User deleted successfully');
    } catch (error) {
      this.errorHandler.handleError(error, 'Deleting user');
      throw error;
    }
  }
}
```

### In Components (When needed)

```typescript
@Component({...})
export class UserComponent {
  private notificationService = inject(NotificationService);

  onSave(): void {
    this.notificationService.success('Changes saved');
  }

  onError(): void {
    this.notificationService.error('Something went wrong');
  }
}
```

## Notification Types

```typescript
// Success notifications
this.notificationService.success('Operation completed successfully');

// Error notifications  
this.notificationService.error('Failed to save changes');

// Custom notifications
this.notificationService.addNotification({
  id: 'custom-id',
  message: 'Custom message',
  type: 'info',
  timestamp: new Date()
});
```

## Best Practices

- ✅ Use in services for API operation feedback
- ✅ Keep messages concise and user-friendly
- ✅ Use success for completed operations
- ✅ Use error for failed operations
- ❌ Don't use in components unless absolutely necessary
- ❌ Don't create complex notification objects manually
- ❌ Don't forget to handle errors before showing notifications